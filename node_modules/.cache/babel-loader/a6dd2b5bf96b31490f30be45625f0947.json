{"ast":null,"code":"var _jsxFileName = \"/Users/elizavetanovikova/Desktop/movies/src/layout/Main.jsx\";\nimport React from 'react';\nimport Movies from '../components/Movies';\nimport Search from '../components/Search';\nimport Movie from '../components/Movie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Main extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      show: 'index',\n      // index, search, movie\n      movies: [],\n      // массив найденных фильмов\n      movie: {},\n      // информация о фильме\n      loading: true // идет запрос к серверу?\n\n    };\n\n    this.handleEnter = (search, type) => {\n      if (search.trim() === \"\") return;\n      this.setState({\n        loading: true,\n        show: 'search'\n      });\n      search = encodeURIComponent(search);\n      let url = `http://www.omdbapi.com/?apikey=5f29dc7d&s=${search}`;\n\n      if (type !== 'all') {\n        url = url + `&type=${type}`;\n      }\n\n      fetch(url).then(response => response.json()).then(data => {\n        this.setState({\n          movies: data.Search ? data.Search : [],\n          loading: false\n        });\n      });\n    };\n\n    this.handleReadMore = id => {\n      this.setState({\n        loading: true,\n        show: 'movie'\n      });\n      fetch(`http://www.omdbapi.com/?apikey=5f29dc7d&i=${id}&plot=full`).then(response => response.json()).then(data => {\n        this.setState({\n          movie: data.Title ? data : {},\n          loading: false\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://www.omdbapi.com/?apikey=5f29dc7d&s=sonic').then(response => response.json()).then(data => {\n      this.setState({\n        movies: data.Search ? data.Search : [],\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        enterHandler: this.handleEnter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }, this) : this.state.show === 'movie' ? /*#__PURE__*/_jsxDEV(Movie, { ...this.state.movie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(Movies, {\n        movies: this.state.movies,\n        readMoreHandler: this.handleReadMore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/elizavetanovikova/Desktop/movies/src/layout/Main.jsx"],"names":["React","Movies","Search","Movie","Main","Component","state","show","movies","movie","loading","handleEnter","search","type","trim","setState","encodeURIComponent","url","fetch","then","response","json","data","handleReadMore","id","Title","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Movies from '../components/Movies';\nimport Search from '../components/Search';\nimport Movie from '../components/Movie';\n\nclass Main extends React.Component {\n    state = {\n        show: 'index', // index, search, movie\n        movies: [], // массив найденных фильмов\n        movie: {}, // информация о фильме\n        loading: true, // идет запрос к серверу?\n    }\n\n    // пользователь набрал поисковый запрос и нажал Enter\n    handleEnter = (search, type) => {\n        if (search.trim() === \"\") return;\n        this.setState({\n            loading: true,\n            show: 'search'\n        });\n        search = encodeURIComponent(search);\n        let url = `http://www.omdbapi.com/?apikey=5f29dc7d&s=${search}`;\n        if (type !== 'all') {\n            url = url + `&type=${type}`;\n        }\n        fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                this.setState({\n                    movies: data.Search ? data.Search : [], \n                    loading: false\n                });\n            });\n    }\n\n    // пользователь кликнул ссылке по «Read more» для просмотра\n    // подробной информации по найденному фильму или сериалу\n    handleReadMore = (id) => {\n        this.setState({\n            loading: true,\n            show: 'movie'\n        });\n        fetch(`http://www.omdbapi.com/?apikey=5f29dc7d&i=${id}&plot=full`)\n            .then(response => response.json())\n            .then(data => {\n                this.setState({\n                    movie: data.Title ? data : {},\n                    loading: false\n                });\n            });\n    }\n\n    componentDidMount() {\n        fetch('http://www.omdbapi.com/?apikey=5f29dc7d&s=sonic')\n            .then(response => response.json())\n            .then(data => {\n                this.setState({\n                    movies: data.Search ? data.Search : [],\n                    loading: false\n                });\n            });\n    }\n\n    render() {\n        return (\n            <main className=\"container\">\n                <Search enterHandler={this.handleEnter} />\n                {\n                    this.state.loading ? (\n                        <div className=\"loader\">Загрузка...</div>\n                    ) : this.state.show === 'movie' ? (\n                        <Movie {...this.state.movie} />\n                    ) : (\n                        <Movies\n                            movies={this.state.movies}\n                            readMoreHandler={this.handleReadMore}\n                        />\n                    )\n                }\n            </main>\n        );\n    }\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}